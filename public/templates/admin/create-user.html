<div class="p-1 rounded-t-lg ">
  <h1 class="mr-1 font-bold text-white border-b border-gray-400">Criar usuário</h1>
</div>

<div id="create-user-template" class="mt-5 bg-gray-800 p-6 rounded-md shadow-md text-gray-200 w-full ">

  <div class="flex flex-col" >

    <!-- Nome -->
    <div class="mb-4">
      <label class="block text-sm mb-1">Nome *</label>
      <input type="text" id="user-name"
        class="w-full p-2 rounded-lg bg-gray-700 border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
    </div>

    <!-- Email -->
    <div class="mb-4">
      <label class="block text-sm mb-1">Email *</label>
      <input type="email" id="user-email"
        class="w-full p-2 rounded-lg bg-gray-700 border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
    </div>

  </div>


  <!-- Senha -->
  <div class="mb-4">
    <label class="block text-sm mb-1">Senha *</label>
    <input type="password" id="user-password"
      class="w-full p-2 rounded-lg bg-gray-700 border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none" />
  </div>

  <!-- Função -->
  <div class="mb-4">
    <label class="block text-sm mb-1">Função *</label>
    <select id="user-role"
      class="w-full p-2 rounded-lg bg-gray-700 border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none">
      <option value="admin">Admin</option>
      <option value="agent">Atendente</option>
      <option value="client_manager">Gerente do Cliente</option>
      <option value="client_receptionist">Recepcionista</option>
    </select>
  </div>

  <!-- Hotéis (dual list com busca) -->
  <div class="mb-4" x-data="hotelSelector($store.app.hotels)">
    <label class="block text-sm mb-2">Hotéis (opcional)</label>

    <!-- Busca -->
    <input type="text" placeholder="Buscar por nome ou código..." x-model="search"
      class="w-full mb-2 p-2 rounded-lg bg-gray-700 border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none" />

    <!-- Dual list responsivo -->
    <div class="flex flex-row flex-row gap-4">

      <!-- Coluna Disponíveis -->
      <div class="flex-1 bg-gray-700 rounded-lg p-3">
        <h2 class="font-semibold text-sm mb-2 text-gray-300">Disponíveis</h2>
        <div class="max-h-48 overflow-y-auto space-y-1">
          <template x-for="hotel in filteredHotels" :key="hotel.id">
            <div
              class="flex items-center justify-between bg-gray-800 px-2 py-1 rounded cursor-pointer hover:bg-gray-600">
              <span x-text="hotel.code + ' - ' + hotel.name"></span>
              <button type="button" @click="addHotel(hotel)" class="text-green-400 hover:text-green-600">➕</button>
            </div>
          </template>
        </div>
      </div>

      <!-- Coluna Selecionados -->
      <div class="flex-1 bg-gray-700 rounded-lg p-3">
        <h2 class="font-semibold text-sm mb-2 text-gray-300">Selecionados</h2>
        <div class="max-h-48 overflow-y-auto space-y-1">
          <template x-for="hotel in selectedHotels" :key="hotel.id">
            <div
              class="flex items-center justify-between bg-gray-800 px-2 py-1 rounded cursor-pointer hover:bg-gray-600">
              <span x-text="hotel.code + ' - ' + hotel.name"></span>
              <button type="button" @click="removeHotel(hotel)" class="text-red-400 hover:text-red-600">❌</button>
            </div>
          </template>
        </div>
      </div>
    </div>

    <!-- Campo hidden com os IDs selecionados -->
    <template x-for="id in selectedHotels.map(h => h.id)" :key="id">
      <input type="hidden" name="hotel_ids[]" :value="id">
    </template>

    <!-- Botão -->
    <button id="create-user-btn"
      class="mt-2 w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors">
      Criar Usuário
    </button>
  </div>